import base64

_payload = """
aW1wb3J0IG9zCmltcG9ydCBzeXMKaW1wb3J0IHRpbWUKaW1wb3J0IHJhbmRvbQppbXBvcnQgc29ja2V0CgpSRUQgPSAiXDAzM1s5MW0iCkdSRUVOID0gIlwwMzNbOTJtIgpDWUFOID0gIlwwMzNbOTZtIgpSRVNFVCA9ICJcMDMzWzBtIgpCT0xEID0gIlwwMzNbMW0iCgpkZWYgY2xlYXIoKToKICAgIG9zLnN5c3RlbSgiY2xlYXIiKQoKZGVmIHNsb3codGV4dCwgZGVsYXk9MC4wMyk6CiAgICBmb3IgaSBpbiB0ZXh0OgogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoaSkKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICB0aW1lLnNsZWVwKGRlbGF5KQogICAgcHJpbnQoKQoKZGVmIGNoZWNrX25ldHdvcmsodGltZW91dD0zKToKICAgIHRyeToKICAgICAgICBzb2NrZXQuc2V0ZGVmYXVsdHRpbWVvdXQodGltZW91dCkKICAgICAgICBzID0gc29ja2V0LnNvY2tldChzb2NrZXQuQUZfSU5FVCwgc29ja2V0LlNPQ0tfU1RSRUFNKQogICAgICAgIHMuY29ubmVjdCgoIjguOC44LjgiLCA1MykpCiAgICAgICAgcy5jbG9zZSgpCiAgICAgICAgcmV0dXJuIFRydWUKICAgIGV4Y2VwdDoKICAgICAgICByZXR1cm4gRmFsc2UKCgpkZWYgbG9hZGluZyhzZWNvbmRzKToKICAgIGZyYW1lcyA9IFsiLyIsICJcXCIsICJ8IiwgIi0iXQogICAgZW5kID0gdGltZS50aW1lKCkgKyBzZWNvbmRzCiAgICBpID0gMAogICAgd2hpbGUgdGltZS50aW1lKCkgPCBlbmQ6CiAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgiXHIiICsgZnJhbWVzW2kgJSA0XSArICIgIGxvYWRpbmciKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIHRpbWUuc2xlZXAoMC4yKQogICAgICAgIGkgKz0gMQogICAgcHJpbnQoKQoKZGVmIG1lbnUoKToKICAgIHByaW50KENZQU4gKyBCT0xEICsgIlNuYXBjaGF0IFNwYW1tZXIiICsgUkVTRVQpCiAgICBwcmludCgiLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQogICAgcHJpbnQoInYxIC0gVGVhbSBSb290eFxuIikKICAgIHByaW50KCJTdGFydCAtIDEiKQogICAgcHJpbnQoIkpvaW4gVGcgLSAyIikKICAgIHByaW50KCJKb2luIFdoYXRzQXBwIC0gM1xuIikKCmRlZiBmYWtlX2ZhaWwob3B0aW9uX25hbWUpOgogICAgc2xvdyhmIntvcHRpb25fbmFtZX0gOiBJbml0aWFsaXppbmcuLi4iKQogICAgdGltZS5zbGVlcCgxKQogICAgcHJpbnQoUkVEICsgIkNvbm5lY3Rpb24gZmFpbGVkIiArIFJFU0VUKQogICAgcHJpbnQoUkVEICsgIkludGVudCBub3QgcGFzc2VkXG4iICsgUkVTRVQpCiAgICB0aW1lLnNsZWVwKDEpCgpkZWYgc3RhcnRfZmFrZSgpOgogICAgc2xvdygiQ2hlY2tpbmcgbmV0d29yay4uLiIpCiAgICBpZiBub3QgY2hlY2tfbmV0d29yaygpOgogICAgICAgIHByaW50KFJFRCArICJObyBpbnRlcm5ldCBjb25uZWN0aW9uIGRldGVjdGVkIiArIFJFU0VUKQogICAgICAgIHByaW50KFJFRCArICJQbGVhc2UgZW5hYmxlIGRhdGEgb3IgV2lGaVxuIiArIFJFU0VUKQogICAgICAgIHJldHVybgogICAgcHJpbnQoR1JFRU4gKyAiTmV0d29yayBjb25uZWN0ZWRcbiIgKyBSRVNFVCkKICAgIHNsb3coIk9rIGxldCdzIHN0YXJ0XG4iKQogICAgdXNlciA9IGlucHV0KCJFbnRlciB5b3VyIHNlY29uZGFyeSBhY2NvdW50IHVzZXJuYW1lIDogIikuc3RyaXAoKQogICAgcHdkID0gaW5wdXQoIkVudGVyIHlvdXIgcGFzc3dvcmQgOiAiKS5zdHJpcCgpCiAgICBwcmludCgpCiAgICBkZWxheSA9IHJhbmRvbS5yYW5kaW50KDgsIDE2KQogICAgbG9hZGluZyhkZWxheSkKICAgIHByaW50KFJFRCArICJcXG5Mb2dpbiBGYWlsZWQiICsgUkVTRVQpCiAgICBwcmludCgiUGxlYXNlIGNoZWNrIHRoZSB1c2VybmFtZSBhbmQgcGFzc3dvcmQgY2FyZWZ1bGx5IikKICAgIHByaW50KCJFbnRlciBleGFjdCBkZXRhaWxzIHdpdGggbm8gc3BhY2VzIikKICAgIHByaW50KCJJZiB0aGlzIGVycm9yIHBlcnNpc3RzLCB0cnkgdXNpbmcgYSBWUE5cbiIpCiAgICB0aW1lLnNsZWVwKDIpCgpkZWYgbWFpbigpOgogICAgY2xlYXIoKQogICAgbWVudSgpCiAgICBjaG9pY2UgPSBpbnB1dCgiU2VsZWN0IG9wdGlvbiA6ICIpLnN0cmlwKCkKICAgIHByaW50KCkKICAgIGlmIGNob2ljZSA9PSAiMSI6CiAgICAgICAgc3RhcnRfZmFrZSgpCiAgICBlbGlmIGNob2ljZSA9PSAiMiI6CiAgICAgICAgZmFrZV9mYWlsKCJUZWxlZ3JhbSIpCiAgICBlbGlmIGNob2ljZSA9PSAiMyI6CiAgICAgICAgZmFrZV9mYWlsKCJXaGF0c0FwcCIpCiAgICBlbHNlOgogICAgICAgIHByaW50KFJFRCArICJJbnZhbGlkIG9wdGlvbiIgKyBSRVNFVCkKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBtYWluKCk=
"""

exec(base64.b64decode(_payload).decode())
